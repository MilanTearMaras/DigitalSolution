import{c as w,a as u,F as p,E as y,b as v}from"./index.esm.6e3e1958.js";import{a as g,r as b,z as k,o as x,c as S,w as $,f as e,h as s,u as t,k as F,t as C,e as _,i as j,x as B,A as V,m as q}from"./entry.74a39a8b.js";import{S as h}from"./SalaryService.6c62c047.js";import"./request.a9cd6104.js";const A={class:"flex flex-wrap -mx-3 mb-6"},D={class:"w-full px-3"},E=e("label",{for:"money",class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Částka",-1),M={class:"flex flex-wrap -mx-3 mb-6"},N={class:"w-full md:w-1/2 px-3"},R=e("label",{for:"year",class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Rok",-1),T={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},z=e("label",{for:"month",class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Měsíc",-1),U={class:"flex flex-wrap -mx-3 mb-6"},G={class:"w-full px-3"},O={class:"p-3 mt-2 text-center space-x-4 md:block"},Z=g({__name:"SalaryForm",props:{salary:{type:Object,default:()=>{}}},emits:["submit","cancel"],setup(f,{emit:n}){const o=f,r=b(null),c=n,d=w({money:u().required("Toto pole je povinné"),year:u().required("Toto pole je povinné"),month:u().required("Toto pole je povinné")}),l=b({money:"",year:"",month:""});k(()=>o.salary,a=>{r.value.setValues({money:a.money,year:a.year,month:a.month})});function i(a){c("submit",a)}return(a,m)=>(x(),S(t(v),{ref_key:"salaryForm",ref:r,class:"w-full max-w-lg","validation-schema":t(d),"initial-values":t(l),onSubmit:i},{default:$(()=>[e("div",A,[e("div",D,[E,s(t(p),{id:"money",name:"money",type:"number",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"}),s(t(y),{name:"money",class:"text-red-500 text-xs italic"})])]),e("div",M,[e("div",N,[R,s(t(p),{id:"year",type:"number",name:"year",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"}),s(t(y),{name:"year",class:"text-red-500 text-xs italic"})]),e("div",T,[z,s(t(p),{id:"month",type:"text",name:"month",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"}),s(t(y),{name:"month",class:"text-red-500 text-xs italic"})])]),e("div",U,[e("div",G,[e("div",O,[e("button",{class:F(["mb-2 md:mb-0 px-5 py-2 text-sm shadow-sm font-medium tracking-wider rounded-md",{"bg-purple-500 border border-purple-500 text-white hover:shadow-lg hover:bg-purple-600":o.salary,"bg-white border text-gray-600 hover:shadow-lg hover:bg-gray-100":!o.salary}]),type:"submit"},C(o.salary?"Uložit":"Vytvořit"),3),o.salary?j("",!0):(x(),_("button",{key:0,class:"mb-2 md:mb-0 bg-purple-500 border border-purple-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-md hover:shadow-lg hover:bg-purple-600",type:"reset",onClick:m[0]||(m[0]=J=>a.$emit("cancel"))}," Zrušit "))])])])]),_:1},8,["validation-schema","initial-values"]))}}),H={class:"h-screen flex justify-center items-center"},I={class:"inline-block bg-white p-10 rounded-lg text-center"},W=g({__name:"[id]",setup(f){const n=B(),{params:o}=V(),r=b(null);q(()=>{c()});async function c(){r.value=await h.getApiSalariesGet(o.id)}async function d(l){await h.postApiSalariesUpdate(o.id,l),n.push({path:"/salary"})}return(l,i)=>{const a=Z;return x(),_("div",H,[e("div",I,[s(a,{salary:t(r),onSubmit:d,onCancel:i[0]||(i[0]=m=>t(n).push("/salary"))},null,8,["salary"])])])}}});export{W as default};
