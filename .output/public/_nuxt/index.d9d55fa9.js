import{U as v,_ as $}from"./UserForm.vue.a9b52252.js";import{X as U,T as C,I as D,M as j}from"./index.712acf77.js";import{a as h,r as x,b,o as d,e as u,f as e,u as m,h as i,i as w,F as g,t as f,j as M,k as y,l as z,w as V,m as N,p as I,v as T,q as S,s as O}from"./entry.74a39a8b.js";import{_ as A}from"./nuxt-link.1adf56d0.js";import{s as B}from"./utils.a48ab410.js";import"./request.a9cd6104.js";import"./index.esm.6e3e1958.js";const E={key:0,class:"flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full max-h-full bg-black bg-opacity-50 inset-0"},F={class:"relative p-4 w-full max-w-2xl max-h-full"},L={class:"relative bg-white rounded-lg shadow"},q={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},X=e("h3",{class:"text-xl font-semibold text-gray-900"}," Nový uživatel ",-1),G={class:"flex justify-center p-4 md:p-5 space-y-4"},H=h({__name:"CreateUserModal",emits:["userCreated"],setup(_,{emit:r}){const o=r,l=x(!1),n=b(()=>l.value);function s(){l.value=!l.value}async function a(c){await v.postApiUsersCreate(c),s(),o("userCreated")}return(c,p)=>{const t=$;return d(),u(g,null,[e("button",{class:"my-5 mt-auto mb-auto bg-purple-500 border border-purple-500 px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-md hover:shadow-lg hover:bg-purple-600",onClick:s}," Vytvořit nového uživatele "),m(n)?(d(),u("div",E,[e("div",F,[e("div",L,[e("div",q,[X,e("button",{class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",onClick:s},[i(m(U),{class:"w-5 h-5 inline-block"})])]),e("div",G,[i(t,{onSubmit:a,onCancel:s})])])])])):w("",!0)],64)}}}),P={class:"flex flex-col items-center justify-center p-3 min-h-full"},R={key:0},Z={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},J=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1),K={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Q={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},W={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},Y={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},ee={class:"sm:flex sm:items-start"},te={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},se=e("h3",{id:"modal-title",class:"text-base font-semibold leading-6 text-gray-900"}," Smazat uživatele ",-1),oe={class:"mt-2"},le={class:"text-sm text-gray-500"},ne=h({__name:"DeleteUserModal",props:{user:{type:Object,required:!0}},emits:["userDeleted"],setup(_,{emit:r}){const o=r,l=_,n=x(!1),s=b(()=>n.value);function a(){n.value=!n.value}async function c(){await v.deleteApiUsersDelete(l.user.id),a(),o("userDeleted")}return(p,t)=>(d(),u(g,null,[e("div",P,[e("button",{class:"text-sm font-medium tracking-wider text-black rounded-md hover:text-purple-600",onClick:a},[i(m(C),{class:"w-5 h-5 inline-block"})])]),m(s)?(d(),u("div",R,[e("div",Z,[J,e("div",K,[e("div",Q,[e("div",W,[e("div",Y,[e("div",ee,[e("div",te,[se,e("div",oe,[e("p",le," Opravdu chcete smazat uživatele "+f(l.user.name)+" "+f(l.user.surname)+"? ",1)])])])]),e("div",{class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:c}," Smazat "),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:a}," Zrušit ")])])])])])])):w("",!0)],64))}}),ae={class:"relative overflow-x-auto"},re={class:"w-full text-sm text-left rtl:text-right text-gray-500"},ie=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3"}," Email "),e("th",{class:"px-6 py-3"}," Název "),e("th",{class:"px-6 py-3"}," Stav "),e("th",{class:"px-6 py-3"})])],-1),ce={class:"px-6 py-4"},de={class:"px-6 py-4"},ue={class:"px-6 py-4"},me={class:"inline-flex px-6 py-4"},_e={class:"flex flex-col items-center justify-center p-3 min-h-full"},pe=h({__name:"UsersTable",props:{items:{type:Object,default:()=>{}}},emits:["userDeleted"],setup(_,{emit:r}){const o=r,l=_;function n(){o("userDeleted")}return(s,a)=>{const c=A,p=ne;return d(),u("div",ae,[e("table",re,[ie,e("tbody",null,[(d(!0),u(g,null,M(l.items,(t,k)=>(d(),u("tr",{key:k,class:"bg-white border-b"},[e("td",ce,f(t.email),1),e("td",de,f(t.name),1),e("td",ue,[e("div",{class:y(["flex items-center py-1 px-4 no-underline rounded-full font-sans font-semibold text-sm border-blue mr-2",{"bg-red-200":!t.active,"text-red-500":!t.active,"bg-green-200":t.active,"text-green-500":t.active}])},[e("span",{class:y(["w-3 h-3 rounded-full mr-3",{"bg-red-500":!t.active,"bg-green-500":t.active}])},null,2),z(" "+f(t.active?"Aktivní":"Neaktivní"),1)],2)]),e("td",me,[e("div",_e,[i(c,{to:`/users/${t.id}`,class:"text-sm font-medium tracking-wider text-black rounded-md hover:text-purple-600",title:"Example link"},{default:V(()=>[i(m(D),{class:"w-5 h-5 inline-block"})]),_:2},1032,["to"])]),i(p,{user:t,onUserDeleted:n},null,8,["user"])])]))),128))])])])}}}),fe={class:"h-[calc(100vh-4rem)] flex justify-center"},xe={class:"inline-block bg-white p-10 rounded-lg text-center overflow-x-auto"},he={class:"inline-flex w-full justify-between mb-5"},ve={class:"flex items-center max-w-sm"},be={class:"relative w-full"},ge={class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},ye=h({__name:"index",setup(_){B("Users");const r=x(null),o=x(null),l=b(()=>{var s;return o.value?(s=r.value)==null?void 0:s.filter(a=>a.name.includes(o.value)):r.value});N(()=>{n()});async function n(){const s=await v.getApiUsersList();r.value=s.items}return(s,a)=>{const c=H,p=pe;return d(),u("div",fe,[e("div",xe,[e("div",he,[e("div",ve,[e("div",be,[e("div",ge,[i(m(j),{class:"w-4 h-4"})]),I(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>S(o)?o.value=t:null),type:"search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5",placeholder:"Hledat podle názvu"},null,512),[[T,m(o)]])])]),i(c,{onUserCreated:n})]),i(p,{items:m(l),onUserDeleted:n},null,8,["items"])])])}}});const Me=O(ye,[["__scopeId","data-v-429139af"]]);export{Me as default};
